{"version":3,"sources":["webpack:///C:/Users/pc/Desktop/LEI/uni-app/main.js","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue?f081","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue?52c8","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue?c215","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue?482d","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue?a4ef","webpack:///C:/Users/pc/Desktop/LEI/uni-app/pages/mine/certificate.vue?802b"],"names":["Page","App","data","resSrc","downloading","computed","userInfo","$store","state","config","bgImg","role","certificate2","certificate3","certificate1","showName","real_name","username","system_nick_name","onReady","uni","showLoading","title","mask","context","createCanvasContext","clearRect","drawImage","font","fillStyle","fillText","$utils","formatTimes","agent_time","draw","canvasToTempFilePath","canvasId","destWidth","destHeight","success","res","tempFilePath","fail","err","reqing","showToast","icon","complete","hideLoading","methods","gotoIndex","switchTab","url","download","saveImageToPhotosAlbum","filePath","showModal","content","showCancel","confirmText","JSON","stringify"],"mappings":"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","file":"pages/mine/certificate.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/mine/certificate.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./certificate.vue?vue&type=template&id=3d12fcf1&scoped=true&\"\nimport script from \"./certificate.vue?vue&type=script&lang=js&\"\nexport * from \"./certificate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./certificate.vue?vue&type=style&index=0&id=3d12fcf1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d12fcf1\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\pc\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3d12fcf1', component.options)\n    } else {\n      api.reload('3d12fcf1', component.options)\n    }\n    module.hot.accept(\"./certificate.vue?vue&type=template&id=3d12fcf1&scoped=true&\", function () {\n      api.rerender('3d12fcf1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/LEI/uni-app/pages/mine/certificate.vue\"\nexport default component.exports","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./certificate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./certificate.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./certificate.vue?vue&type=style&index=0&id=3d12fcf1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./certificate.vue?vue&type=style&index=0&id=3d12fcf1&lang=scss&scoped=true&\"","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./certificate.vue?vue&type=template&id=3d12fcf1&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n        resSrc: '',\n\t\t\t\tdownloading: false\n\t\t\t};\n\t\t},\n    computed: {\n      userInfo() {\n        return this.$store.state.userInfo\n      },\n      config() {\n        return this.$store.state.config\n      },\n      bgImg() {\n        if (this.userInfo.role === 3) {\n          return this.$store.state.config.certificate2\n        } else if (this.userInfo.role === 4) {\n          return this.$store.state.config.certificate3\n        } else {\n          return this.$store.state.config.certificate1\n        }\n      },\n      showName() {\n        if (this.userInfo.real_name) {\n          return this.userInfo.real_name\n        } else if (this.userInfo.username) {\n          return this.userInfo.username\n        } else {\n          return this.config.system_nick_name ? this.config.system_nick_name : '临时用户'\n        }\n      }\n    },\n\t\tonReady() {\n\t\t\tif (!this.resSrc) {\n        uni.showLoading({\n        \ttitle: '正在下载证书',\n          mask: true\n        })\n        let context = uni.createCanvasContext('canvas', this)\n        context.clearRect(0, 0, 1356, 1920)\n        context.drawImage(this.bgImg, 0, 0, 1356, 1920)\n        context.font = 'bold 50px STSong'\n        context.fillStyle = '#414238'\n        context.fillText(this.showName, 432, 829)\n        context.font = 'bold 36px STSong'\n        context.fillStyle = '#414238'\n        context.fillText(this.$utils.formatTimes(this.userInfo.agent_time, 3), 622, 1479)\n        context.draw(true, () => {\n          uni.canvasToTempFilePath({\n          \tcanvasId: 'canvas',\n            destWidth: 1356,\n            destHeight: 1920,\n            success: res => {\n              this.resSrc = res.tempFilePath\n            },\n            fail: err => {\n              this.reqing = false\n            \tuni.showToast({\n            \t\ttitle: err,\n                icon: 'none'\n            \t})\n            },\n            complete: () => {\n            \tuni.hideLoading()\n            }\n          })\n        })\n      }\n\t\t},\n    methods: {\n      gotoIndex() {\n        uni.switchTab({\n        \turl: '/pages/shop/index'\n        })\n      },\n      download() {\n        if (this.downloading) {\n          uni.showToast({\n          \ttitle: '正在下载图片，请勿频繁操作',\n            icon: 'none'\n          })\n          return\n        }\n        this.downloading = true\n        uni.saveImageToPhotosAlbum({\n        \tfilePath: this.resSrc,\n          success: res => {\n          \tuni.showModal({\n          \t\ttitle: '提示',\n              content: `文件已保存到相册`,\n              showCancel: false,\n              confirmText: '知道了'\n          \t})\n          },\n          fail: err => {\n          \tuni.showToast({\n          \t\ttitle: '图片保存失败，请稍后再试\\n' + JSON.stringify(err),\n          \t  icon: 'none'\n          \t})\n          },\n          complete: () => {\n          \tthis.downloading = false\n          }\n        })\n      }\n    }\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"container\" }, [\n    _c(\n      \"view\",\n      { staticClass: \"content content-has-operation\" },\n      [\n        _c(\n          \"scroll-view\",\n          { staticClass: \"scroll-view\", attrs: { \"scroll-y\": \"\" } },\n          [\n            _c(\"view\", { staticClass: \"pic uni-pr uni-box\" }, [\n              _vm.resSrc\n                ? _c(\"image\", { attrs: { src: _vm.resSrc, mode: \"aspectFit\" } })\n                : _vm._e(),\n              _c(\"canvas\", {\n                staticClass: \"canvas uni-pa\",\n                attrs: { \"canvas-id\": \"canvas\" }\n              })\n            ])\n          ]\n        )\n      ],\n      1\n    ),\n    _c(\"view\", { staticClass: \"operation uni-flex uni-box\" }, [\n      _c(\"view\", { staticClass: \"left uni-flex\" }, [\n        _c(\n          \"view\",\n          {\n            staticClass: \"uni-flex uni-column\",\n            attrs: { eventid: \"76fe6cbb-0\" },\n            on: { click: _vm.gotoIndex }\n          },\n          [\n            _c(\"image\", {\n              attrs: { src: \"/static/images/icon/nav-index.png\" }\n            }),\n            _c(\"text\", [_vm._v(\"返回首页\")])\n          ]\n        )\n      ]),\n      _c(\n        \"view\",\n        { staticClass: \"right uni-flex uni-flex-item uni-txc uni-ovh\" },\n        [\n          _c(\n            \"view\",\n            {\n              staticClass: \"uni-flex-item\",\n              class: { disabled: _vm.downloading },\n              attrs: { eventid: \"76fe6cbb-1\" },\n              on: { click: _vm.download }\n            },\n            [_vm._v(\"保存到手机\")]\n          )\n        ]\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}