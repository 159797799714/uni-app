{"version":3,"sources":["webpack:///F:/dinghui/app/pages/login/index.vue","webpack:///F:/dinghui/app/pages/login/index.vue?98f9","webpack:///F:/dinghui/app/pages/login/index.vue?318a","webpack:///F:/dinghui/app/main.js","webpack:///F:/dinghui/app/pages/login/index.vue?2b9c","webpack:///F:/dinghui/app/pages/login/index.vue?1ec6","webpack:///F:/dinghui/app/pages/login/index.vue?1bc7","webpack:///F:/dinghui/app/pages/login/index.vue?67b4"],"names":["data","hasConfig","showLoading","configReqNum","reqing","loging","mobile","password","onLoad","uni","mask","getConfig","methods","showModal","content","showCancel","request","url","$apis","configs","method","success","res","$store","commit","jwt","getStorageSync","loginType","$constant","LOGIN_TYPE_MOBILE","LOGIN_TYPE_WECHAT","getUserInfo","hideLoading","fail","click","title","userInfo","header","Authorization","state","code","role","$http","checkAgent","uid","id","cb","err","$getInfo","reLaunch","message","complete","gotoRegister","$navigateTo","toforget","clickMobile","$utils","validatePhone","showToast","icon","length","login","token","clickWx","getProvider","service","provider","indexOf","infoRes","wxLogin","JSON","stringify","resData","checkVersion","cb2","os","getSystemInfoSync","platform","appUpdate","type","version","plus","runtime","need","confirmText","res2","confirm","openURL","androidUrl","iosUrl","console","log","e","cancel","Page","App"],"mappings":"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","file":"pages/login/index.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n        hasConfig: false,\n        showLoading: true,\n        configReqNum: 0,\n        reqing: true,\n        loging: false,\n        mobile: '',\n        password: ''\n\t\t\t};\n\t\t},\n\t\tonLoad() {\n      // 登录逻辑\n      uni.showLoading({\n      \tmask: true\n      })\n      // 获取config，失败之后重新获取，三次失败弹窗提示\n      this.getConfig()\n\t\t},\n    methods: {\n      getConfig() {\n        if (this.configReqNum >= 2) {\n          uni.showModal({\n          \tcontent: '服务器繁忙，请关闭app，稍候再打开',\n            showCancel: false\n          })\n          return\n        }\n        this.configReqNum ++\n        uni.request({\n        \turl: this.$apis.configs,\n        \tmethod: 'GET',\n        \tdata: {},\n        \tsuccess: res => {\n        \t\tif (res.data.success) {\n        \t\t\tthis.$store.commit('savaConfig', res.data.data)\n              // 获取config成功之后，检查stroage是否有jwt和登录态\n              let jwt = uni.getStorageSync('jwt')\n              let loginType = uni.getStorageSync('loginType')\n              if (jwt && loginType && (loginType === this.$constant.LOGIN_TYPE_MOBILE || loginType === this.$constant.LOGIN_TYPE_WECHAT)) {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                this.$store.commit('login', {jwt: jwt, loginType: loginType})\n                this.getUserInfo()\n\n              } else {\n                // 没有，显示登录\n\n\n\n\n\n\n\n\n\n                this.reqing = false\n                uni.hideLoading()\n                this.showLoading = false\n\n              }\n        \t\t} else {\n        \t\t\tthis.getConfig()\n        \t\t}\n        \t},\n        \tfail: () => {\n        \t\tthis.getConfig()\n        \t}\n        });\n      },\n      getUserInfo(click) {\n        if (click) {\n          uni.showLoading({\n            title: '正在登录',\n          \tmask: true\n          })\n          this.showLoading = true\n        }\n        uni.request({\n          url: this.$apis.userInfo,\n          method: 'GET',\n          header: {\n            Authorization: this.$store.state.jwt\n          },\n          data: null,\n          success: res => {\n            if (res.data.code === 401) {\n              this.reqing = false\n              this.$store.commit('logout')\n              return\n            }\n            if (res.data.success) {\n              this.$store.commit('savaUserInfo', res.data.data)\n              // 查询是否有资格升级VIP\n              if (this.$store.state.userInfo.role >= 1) {\n                this.$http({\n                  url: this.$apis.checkAgent,\n                  method: 'POST',\n                  data: {\n                    uid: this.$store.state.userInfo.id\n                  },\n                  cb: (err, data) => {\n                    if (!err && data.success) {\n                    \tthis.$getInfo()\n                    }\n                  }\n                })\n              }\n              uni.reLaunch({\n                url: '/pages/index/index'\n              })\n            } else {\n              this.reqing = false\n              uni.showModal({\n              \tcontent: res.data.message,\n                showCancel: false\n              })\n            }\n          },\n          fail: () => {\n            this.reqing = false\n          },\n          complete: () => {\n            if (this.showLoading) uni.hideLoading()\n            this.showLoading = false\n            this.loging = false\n          }\n        });\n      },\n      gotoRegister(){\n        this.$navigateTo({\n          url: '/pages/login/register'\n        })\n      },\n      toforget(){\n        this.$navigateTo({\n          url: '/pages/login/forget'\n        })\n      },\n      clickMobile(){\n        if (!this.$utils.validatePhone(this.mobile)) {\n          uni.showToast({\n          \ttitle: '请输入正确的手机号码',\n            icon: 'none'\n          })\n          return\n        }\n        if (this.password.length < 4) {\n          uni.showToast({\n          \ttitle: '密码长度少于4位',\n            icon: 'none'\n          })\n          return\n        }\n        // 登录\n        this.$http({\n          url: this.$apis.login,\n          method: 'POST',\n          data: {\n            mobile: this.mobile,\n            password: this.password\n          },\n          cb: (err, data) => {\n            if (!err && data.success) {\n              this.$store.commit('login', {jwt: 'Bearer ' + data.data.token, loginType: this.$constant.LOGIN_TYPE_MOBILE})\n              this.loging = true\n              this.getUserInfo(true)\n            } else {\n              uni.showModal({\n              \ttitle: '登录失败',\n                content: data.message,\n                showCancel: false\n              })\n            }\n          }\n        })\n      },\n      clickWx() {\n        uni.showLoading({\n        \ttitle: '获取服务商',\n        \tmask: true\n        });\n        uni.getProvider({\n        \tservice: 'oauth',\n          success: res => {\n          \tif (~res.provider.indexOf('weixin')) {\n              uni.showLoading({\n              \ttitle: '拉起微信授权',\n              \tmask: true\n              });\n              uni.login({\n              \tprovider: 'weixin',\n              \tsuccess: res => {\n                  uni.showLoading({\n                  \ttitle: '正在登录',\n                  \tmask: true\n                  })\n                  uni.getUserInfo({\n                  \tprovider: 'weixin',\n                    success: infoRes => {\n                      uni.request({\n                        url: this.$apis.wxLogin,\n                        method: 'POST',\n                        data: {\n                          userInfo: JSON.stringify(infoRes.userInfo)\n                        },\n                        success: resData => {\n                          if (resData.data.success) {\n                            this.$store.commit('login', {jwt: 'Bearer ' + resData.data.data.token, loginType: this.$constant.LOGIN_TYPE_WECHAT})\n                            this.getUserInfo(true)\n                          } else {\n                            uni.hideLoading()\n                            uni.showToast({\n                            \ttitle: '登录失败：' + resData.data.message,\n                              icon: 'none'\n                            })\n                          }\n                        },\n                        fail: err => {\n                        \tuni.hideLoading()\n                        \tuni.showToast({\n                        \t\ttitle: '登录失败：' + JSON.stringify(err),\n                        \t  icon: 'none'\n                        \t})\n                        }\n                      })\n                    },\n                    fail: err => {\n                    \tuni.hideLoading()\n                    \tuni.showToast({\n                    \t\ttitle: '登录失败：' + JSON.stringify(err),\n                    \t  icon: 'none'\n                    \t})\n                    }\n                  })\n                },\n              \tfail: () => {\n                  uni.hideLoading()\n                  uni.showToast({\n                  \ttitle: '拉起微信失败',\n                    icon: 'none'\n                  })\n                }\n              });\n            } else {\n              uni.hideLoading()\n              uni.showToast({\n              \ttitle: '拉起微信失败',\n                icon: 'none'\n              })\n            }\n          },\n          fail: () => {\n          \tuni.hideLoading()\n            uni.showToast({\n            \ttitle: '获取服务商失败',\n              icon: 'none'\n            })\n          }\n        })\n      },\n      checkVersion(cb, cb2) {\n        // 版本检测\n        let os = uni.getSystemInfoSync().platform;\n        this.$http({\n        \turl: this.$apis.appUpdate,\n          method: 'POST',\n          data: {\n            type: os,\n            version: plus.runtime.version\n          },\n          cb: (err, data) => {\n            if (typeof cb === 'function') cb()\n          \tif (!err && data.success && data.data.need) {\n              uni.showModal({\n              \ttitle: '更新提示',\n                content: '您当前的版本为' + plus.runtime.version + '，最新版本为' + data.data.version + '，升级为最新版本将为您带来更好的体验',\n                confirmText: '去升级',\n                success: res2 => {\n                  if (res2.confirm) {\n                    if (typeof cb2 === 'function') cb2(true)\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\tswitch(uni.getSystemInfoSync().platform){\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'android':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplus.runtime.openURL(data.data.androidUrl);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'ios':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplus.runtime.openURL(data.data.iosUrl) ;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('运行在开发者工具上')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n                    } catch (e) {\n                    \tif (typeof cb2 === 'function') cb2(false)\n                    }\n                  } else if (res2.cancel) {\n                    if (typeof cb2 === 'function') cb2(false)\n                  }\n                }\n              })\n            } else {\n              if (typeof cb2 === 'function') cb2(false)\n            }\n          }\n        })\n      }\n    }\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"container\" }, [\n    _c(\n      \"view\",\n      { staticClass: \"content\" },\n      [\n        _c(\n          \"scroll-view\",\n          { staticClass: \"scroll-view\", attrs: { \"scroll-y\": \"\" } },\n          [\n            !_vm.reqing\n              ? _c(\"view\", { staticClass: \"content-bg\" }, [\n                  _c(\"image\", {\n                    attrs: {\n                      src: \"../../static/images/login/bg.png\",\n                      mode: \"aspectFill\"\n                    }\n                  })\n                ])\n              : _vm._e(),\n            !_vm.reqing\n              ? _c(\"view\", { staticClass: \"content-main\" }, [\n                  _c(\"image\", {\n                    staticClass: \"logo\",\n                    attrs: { src: \"../../static/images/login/logo.png\" }\n                  }),\n                  _c(\n                    \"view\",\n                    { staticClass: \"form\" },\n                    [\n                      _c(\"label\", [\n                        _c(\"view\", { staticClass: \"phone-num\" }, [\n                          _c(\"image\", {\n                            attrs: {\n                              src: \"../../static/images/login/phone.png\"\n                            }\n                          }),\n                          _c(\"input\", {\n                            directives: [\n                              {\n                                name: \"model\",\n                                rawName: \"v-model\",\n                                value: _vm.mobile,\n                                expression: \"mobile\"\n                              }\n                            ],\n                            attrs: {\n                              type: \"number\",\n                              placeholder: \"请输入手机号码\",\n                              \"placeholder-style\": \"color:#fff\",\n                              \"confirm-type\": \"next\",\n                              eventid: \"50aef386-0\"\n                            },\n                            domProps: { value: _vm.mobile },\n                            on: {\n                              input: function($event) {\n                                if ($event.target.composing) {\n                                  return\n                                }\n                                _vm.mobile = $event.target.value\n                              }\n                            }\n                          })\n                        ])\n                      ]),\n                      _c(\"label\", [\n                        _c(\"view\", { staticClass: \"password\" }, [\n                          _c(\"image\", {\n                            attrs: {\n                              src: \"../../static/images/login/lock1.png\",\n                              mode: \"\"\n                            }\n                          }),\n                          _c(\"input\", {\n                            directives: [\n                              {\n                                name: \"model\",\n                                rawName: \"v-model\",\n                                value: _vm.password,\n                                expression: \"password\"\n                              }\n                            ],\n                            attrs: {\n                              type: \"text\",\n                              password: \"true\",\n                              placeholder: \"请输入密码\",\n                              \"placeholder-style\": \"color:#fff\",\n                              eventid: \"50aef386-1\"\n                            },\n                            domProps: { value: _vm.password },\n                            on: {\n                              confirm: _vm.clickMobile,\n                              input: function($event) {\n                                if ($event.target.composing) {\n                                  return\n                                }\n                                _vm.password = $event.target.value\n                              }\n                            }\n                          })\n                        ])\n                      ]),\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"login-btn\",\n                          class: { disabled: _vm.loging },\n                          attrs: { eventid: \"50aef386-2\" },\n                          on: { click: _vm.clickMobile }\n                        },\n                        [_vm._v(\"登录\" + _vm._s(_vm.loging ? \"中...\" : \"\"))]\n                      ),\n                      _c(\"view\", { staticClass: \"toforget uni-flex\" }, [\n                        _c(\n                          \"text\",\n                          {\n                            attrs: { eventid: \"50aef386-3\" },\n                            on: { click: _vm.gotoRegister }\n                          },\n                          [_vm._v(\"去注册\")]\n                        ),\n                        _c(\n                          \"text\",\n                          {\n                            attrs: { eventid: \"50aef386-4\" },\n                            on: { click: _vm.toforget }\n                          },\n                          [_vm._v(\"忘记密码?\")]\n                        )\n                      ])\n                    ],\n                    1\n                  )\n                ])\n              : _vm._e()\n          ]\n        )\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/login/index.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=05917f56&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=05917f56&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05917f56\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('05917f56', component.options)\n    } else {\n      api.reload('05917f56', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=05917f56&scoped=true&\", function () {\n      api.rerender('05917f56', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/dinghui/app/pages/login/index.vue\"\nexport default component.exports","import mod from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=05917f56&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=05917f56&lang=scss&scoped=true&\"","export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360安全浏览器下载\\\\HBuilderX.1.5.4.20190127.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=template&id=05917f56&scoped=true&\""],"sourceRoot":""}